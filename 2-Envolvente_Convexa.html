<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Envolvente Convexa</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #111;
      color: #eee;
      margin: 0 auto;
      max-width: 900px;
      padding: 1rem 2rem;
      line-height: 1.6;
      position: relative;
      overflow-x: hidden;
    }

    /* GIF esquina superior izquierda */
    #gif-top-left {
      position: fixed;
      top: 0;
      left: 0;
      width: 250px;
      opacity: 0.07;
      z-index: -1;
      pointer-events: none;
    }

    /* GIF esquina superior derecha */
    #gif-top-right {
      position: fixed;
      top: 0;
      right: 0;
      width: 250px;
      opacity: 0.07;
      z-index: -1;
      pointer-events: none;
    }

    /* GIF esquina inferior izquierda */
    #gif-bottom-left {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 250px;
      opacity: 0.07;
      z-index: -1;
      pointer-events: none;
    }

    /* GIF esquina inferior derecha */
    #gif-bottom-right {
      position: fixed;
      bottom: 0;
      right: 0;
      width: 250px;
      opacity: 0.07;
      z-index: -1;
      pointer-events: none;
    }

    a {
      color: #4ea8ff;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    h1, h2 {
      font-weight: 400;
      border-bottom: 1px solid #444;
      padding-bottom: 0.5rem;
      margin-top: 2rem;
    }
    pre {
      background: #222;
      padding: 1rem;
      overflow-x: auto;
      border-radius: 6px;
      font-family: Consolas, 'Courier New', monospace;
      font-size: 0.9rem;
      color: #d1d1d1;
      margin-top: 1rem;
    }
    .code-section {
      margin-top: 1rem;
      border-left: 4px solid #4ea8ff;
      padding-left: 1rem;
    }
    .notebook-link {
      margin-top: 1rem;
      display: inline-block;
      background: #4ea8ff;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 600;
      transition: background 0.3s ease;
    }
    .notebook-link:hover {
      background: #367acc;
    }
    nav {
      margin-bottom: 2rem;
    }
  </style>
</head>
<body>
  <nav>
    <a href="index.html">← Volver a la página principal</a>
  </nav>

  <!-- GIFs en las esquinas -->
  <img id="gif-top-left" src="https://phoneky.co.uk/thumbs/screensavers/down/abstract/abstracto_h10If0AI.gif" alt="GIF esquina superior izquierda" />
  <img id="gif-top-right" src="https://i.pinimg.com/originals/00/f0/0e/00f00e72d99f9afc4990a4f0f47bc3af.gif" alt="GIF esquina superior derecha" />
  <img id="gif-bottom-left" src="https://i.pinimg.com/originals/1f/ce/82/1fce82cdace04ac469160cbbe594f58c.gif" alt="GIF esquina inferior izquierda" />
  <img id="gif-bottom-right" src="https://i.makeagif.com/media/2-27-2018/xxu5uk.gif" alt="GIF esquina inferior derecha" />

  <section id="envolvente-convexa" style="margin: 2rem 0;">

  <h3 style="font-size: 1.6rem; color: #fff; border-bottom: 1px solid #444; padding-bottom: 0.5rem; margin-top: 1.5rem;">
    Envolvente Convexa
  </h3>
  <div style="text-align: justify; color: #ddd; line-height: 1.6; margin-top: 0.5rem;">
    <p>
      La envolvente convexa de un conjunto de puntos en el plano es la frontera poligonal más pequeña que encierra todos los vértices, definiendo así el contorno del conjunto. En esta sección se exploran dos estrategias para construir dicho contorno de manera dinámica, ilustrando cada paso mediante animaciones que muestran cómo se incorporan o descartan puntos hasta completar la frontera.
    </p>
    <ul style="margin-left:1.5rem; list-style-type:disc;">
      <li><strong>Graham Scan:</strong> Se parte de un pivote (el punto de coordenada mínima en y) y se ordena el resto según su ángulo polar respecto a él. A medida que se recorre esta lista, se mantiene una pila de vértices que definen el contorno parcial. Cada nuevo punto es comparado con los dos últimos de la pila mediante un test de orientación; si forma un giro hacia dentro, el vértice intermedio es desapilado, garantizando que la frontera permanezca convexa.</li>
      <li><strong>Quickhull:</strong> Se identifican dos puntos extremos (el de mínima x y el de máxima x) y se traza el segmento que los une, dividiendo el conjunto en los situados por encima y por debajo de esa línea. Para cada subconjunto, se selecciona el punto más alejado de la base como nuevo vértice de la envolvente y se generan dos subproblemas recursivos sobre los triángulos formados, hasta cerrar el polígono.</li>
    </ul>
  </div>
</section>
  




  
  <section>
    <h2>Ejemplo de código</h2>
    <div class="code-section">
      <pre><code># Ejemplo básico de cálculo de envolvente convexa en Python
import numpy as np
from scipy.spatial import ConvexHull

points = np.random.rand(30, 2)
hull = ConvexHull(points)

print("Vertices del polígono convex hull:")
print(hull.vertices)
</code></pre>
    </div>
  </section>



<!-- Sección: Envolvente Convexa Dinámica Avanzada -->
<section id="envolvente-dinamica" style="margin: 2rem 0;">
  <h2 style="font-size:1.8rem; color:#fff; border-bottom:2px solid #444; padding-bottom:0.5rem; margin-top:2rem;">
    Envolvente Convexa Dinámica Avanzada
  </h2>
  <div style="text-align: justify; color: #ddd; line-height: 1.6; margin-bottom:1rem;">
    <p>
      En esta animación se generan 200 puntos aleatorios y se construye su envolvente convexa de forma incremental.  
      Cada paso añade o descarta puntos, mostrando visualmente cómo crece el “hull” hasta cerrar el polígono completo.
    </p>
  </div>

  <!-- Contenedor Plotly -->
  <div id="dynamic-convex-hull" style="width:100%; height:600px;"></div>

  <!-- Código fuente para copiar -->
  <div class="code-section">
    <pre><code>import numpy as np
import plotly.graph_objects as go
from IPython.display import HTML

# Dynamic Convex Hull Animation with Many Points
HTML('''
<h1 style="text-align:center; color:#FFD700; font-family:Arial, sans-serif;">
    Envolvente Convexa Dinámica Avanzada
</h1>
''')

# Generate many random integer points
np.random.seed(42)
pts = np.random.randint(0, 200, size=(200, 2))
pts_sorted = pts[np.lexsort((pts[:,1], pts[:,0]))]

# Incremental hull function
def incremental_hull(points):
    def cross(o, a, b):
        return (a[0]-o[0])*(b[1]-o[1]) - (a[1]-o[1])*(b[0]-o[0])
    lower, upper, steps = [], [], []
    for p in points:
        lower.append(p.tolist())
        while len(lower)>=3 and cross(lower[-3], lower[-2], lower[-1])<=0:
            lower.pop(-2)
        steps.append(lower.copy())
    for p in points[::-1]:
        upper.append(p.tolist())
        while len(upper)>=3 and cross(upper[-3], upper[-2], upper[-1])<=0:
            upper.pop(-2)
        full = lower + upper[1:-1]
        steps.append(full.copy())
    return steps

hull_steps = incremental_hull(pts_sorted)

# Build animation frames
frames = []
for hull in hull_steps:
    hx = [pt[0] for pt in hull] + ([hull[0][0]] if hull else [])
    hy = [pt[1] for pt in hull] + ([hull[0][1]] if hull else [])
    frames.append(go.Frame(
        data=[
            go.Scatter(x=pts[:,0], y=pts[:,1], mode='markers',
                       marker=dict(size=6, color='#4ea8ff'), name='Puntos'),
            go.Scatter(x=hx, y=hy, mode='lines+markers',
                       line=dict(width=2, color='#fde725'),
                       marker=dict(size=5, color='#fde725'), name='Hull')
        ]
    ))

# Base figure with controls
fig = go.Figure(
    data=frames[0].data,
    frames=frames
)
fig.update_layout(
    updatemenus=[dict(
        type='buttons',
        showactive=False,
        x=1.15, y=1,
        xanchor='right', yanchor='top',
        buttons=[dict(label='▶ Play',
                      method='animate',
                      args=[None, {"frame": {"duration": 100, "redraw": True},
                                   "fromcurrent": True, "mode": "immediate"}]) ]
    )],
    margin=dict(l=0, r=0, b=0, t=0),
    paper_bgcolor='black',
    plot_bgcolor='black',
    xaxis=dict(visible=False),
    yaxis=dict(visible=False),
    template='plotly_dark',
    height=600
)
fig.show()</code></pre>
  </div>
</section>

<!-- Script Plotly: insertar justo antes de cerrar </body> -->
<script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
<script>
// Aquí se transpila el código Python a JSON para Plotly en JavaScript.
// Suponiendo que Colab te exporte `data`, `layout` y `frames` desde Python a JS,
// ejemplo de cómo inyectar la figura directamente:

const data = /* Copia aquí data desde Python (frames[0].data) */;
const frames = /* Copia aquí frames desde Python */;
const layout = {
  updatemenus: [{ /* ...igual que en Python... */ }],
  margin: {l:0, r:0, b:0, t:0},
  paper_bgcolor: 'black',
  plot_bgcolor: 'black',
  xaxis: {visible:false},
  yaxis: {visible:false},
  template: 'plotly_dark',
  height: 600
};

Plotly.newPlot('dynamic-convex-hull', data, layout)
  .then(() => Plotly.addFrames('dynamic-convex-hull', frames));
</script>







  






























  

  <section>
    <h2>Notebook Colab</h2>
    <a class="notebook-link" href="https://colab.research.google.com/drive/your-notebook-id" target="_blank" rel="noopener noreferrer">
      Abrir notebook en Colab
    </a>
  </section>
</body>
</html>
